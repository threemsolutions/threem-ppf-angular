<app-header></app-header>

<div class="container">
  <div class="form-container">
    <h2>Join</h2>
    <h1>Get Started</h1>
    <p>Create your account to access our management system.</p>

    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="firstName">First Name<span class="required">*</span></label>
          <input id="firstName" type="text" formControlName="firstName" class="form-control" placeholder="Enter your first name">
          <div class="error-message" *ngIf="registrationForm.controls['firstName'].touched && registrationForm.controls['firstName'].invalid">
            First name is required.
          </div>
        </div>

        <div class="form-group">
          <label for="lastName">Last Name<span class="required">*</span></label>
          <input id="lastName" type="text" formControlName="lastName" class="form-control" placeholder="Enter your last name">
          <div class="error-message" *ngIf="registrationForm.controls['lastName'].touched && registrationForm.controls['lastName'].invalid">
            Last name is required.
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="dob">Date of Birth<span class="required">*</span></label>
          <input id="dob" type="date" formControlName="dob" class="form-control">
          <div class="error-message" *ngIf="registrationForm.controls['dob'].touched && registrationForm.controls['dob'].invalid">
            Date of Birth is required.
          </div>
        </div>

        <div class="form-group">
          <label for="gender">Gender<span class="required">*</span></label>
          <select id="gender" formControlName="gender" class="form-select">
            <option value="" disabled selected>Select gender...</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
          <div class="error-message" *ngIf="registrationForm.controls['gender'].touched && registrationForm.controls['gender'].invalid">
            Gender selection is required.
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="emailId">Email ID<span class="required">*</span></label>
          <input id="emailId" type="email" formControlName="emailId" class="form-control" placeholder="Enter your email address">
          <div class="error-message" *ngIf="registrationForm.controls['emailId'].touched">
            <span *ngIf="registrationForm.controls['emailId'].hasError('required')">Email is required.</span>
            <span *ngIf="registrationForm.controls['emailId'].hasError('email')">Invalid email format.</span>
          </div>
        </div>

        <div class="form-group">
          <label for="contactNumber">Contact Number<span class="required">*</span></label>
          <input id="contactNumber" type="tel" formControlName="contactNumber" class="form-control" placeholder="Enter your contact number">
          <div class="error-message" *ngIf="registrationForm.controls['contactNumber'].touched">
            <span *ngIf="registrationForm.controls['contactNumber'].hasError('required')">Contact number is required.</span>
            <span *ngIf="registrationForm.controls['contactNumber'].hasError('pattern')">Enter a valid 10-digit number.</span>
          </div>
        </div>
      </div>

      <div class="form-group full-width">
        <label for="role">Select Your Role<span class="required">*</span></label>
        <select id="role" formControlName="roleId" class="form-select">
          <option value="" disabled selected>Select Role...</option>
          <option [value]="1">Super-Admin</option>
          <option [value]="2">Admin</option>
          <option [value]="3">User</option>
        </select>
        <div class="error-message" *ngIf="registrationForm.controls['roleId'].touched && registrationForm.controls['roleId'].invalid">
          Role selection is required.
        </div>
      </div>

      <div class="form-group full-width">
        <label for="password">Password<span class="required">*</span></label>
        <input id="password" type="password" formControlName="password" class="form-control" placeholder="Create a password">
        <div class="error-message" *ngIf="registrationForm.controls['password'].touched">
          <span *ngIf="registrationForm.controls['password'].hasError('required')">Password is required.</span>
          <span *ngIf="registrationForm.controls['password'].hasError('minlength')">Password must be at least 6 characters.</span>
        </div>
      </div>

      <button 
  type="submit" 
  class="register-btn" 
  [ngClass]="{'disabledbtn': registrationForm.invalid}" 
  [disabled]="registrationForm.invalid">
  Register
</button>

    

    </form>
  </div>
</div>

<section class="cta-section">
  <h2 class="cta-title">Already have an account?</h2>
  <p class="cta-description">Login to our community today! Log in now to unlock all the features of the PPF Management System.</p>
  <button class="register-button" (click)="navigateToLogin()">Login</button>
</section>

<app-footer></app-footer>
